<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß Teste de Corre√ß√£o de Transi√ß√µes - ED Acima das Nuvens</title>
    <style>
        :root {
            /* Dura√ß√µes das transi√ß√µes - mesmo do projeto */
            --theme-transition-duration: 1500ms;
            --theme-transition-timing: ease-in-out;
            --theme-transition-fast: 300ms;
            --theme-transition-medium: 600ms;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            transition: background-color var(--theme-transition-duration) var(--theme-transition-timing),
                       color var(--theme-transition-duration) var(--theme-transition-timing);
        }

        /* ============================================
           SIMULA√á√ÉO DO PROBLEMA ORIGINAL
           ============================================ */
        .problem-example {
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            border: 2px solid currentColor;
            
            /* ‚ùå PROBLEMA: M√∫ltiplas declara√ß√µes transition (a segunda sobrescreve) */
            transition: background-color var(--theme-transition-duration) var(--theme-transition-timing) !important;
            transition: color var(--theme-transition-duration) var(--theme-transition-timing) !important;
        }

        /* ============================================
           SOLU√á√ÉO CORRIGIDA
           ============================================ */
        .fixed-example {
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            border: 2px solid currentColor;
            
            /* ‚úÖ SOLU√á√ÉO: Transi√ß√µes combinadas em uma √∫nica declara√ß√£o */
            transition: 
                background-color var(--theme-transition-duration) var(--theme-transition-timing),
                color var(--theme-transition-duration) var(--theme-transition-timing),
                border-color var(--theme-transition-duration) var(--theme-transition-timing) !important;
        }

        /* Estilos para temas */
        .theme-light {
            background-color: hsl(145, 100%, 95%);
            color: hsl(162, 100%, 10%);
        }

        .theme-dark {
            background-color: hsl(145, 100%, 5%);
            color: hsl(162, 100%, 90%);
        }

        /* Simula√ß√£o das classes theme-interactive-transition */
        .theme-interactive-transition {
            transition: 
                background-color var(--theme-transition-duration) var(--theme-transition-timing),
                color var(--theme-transition-duration) var(--theme-transition-timing),
                border-color var(--theme-transition-duration) var(--theme-transition-timing) !important;
        }

        .theme-transition-fast {
            transition: all var(--theme-transition-fast) var(--theme-transition-timing) !important;
        }

        .theme-transition-medium {
            transition: all var(--theme-transition-medium) var(--theme-transition-timing) !important;
        }

        /* Controles */
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s ease;
        }

        button:hover {
            transform: scale(1.05);
        }

        .btn-light {
            background-color: #f0f0f0;
            color: #333333;
        }

        .btn-dark {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        .explanation {
            background-color: rgba(100, 149, 237, 0.1);
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #6495ed;
        }

        .problem {
            background-color: rgba(220, 53, 69, 0.1);
            border-left-color: #dc3545;
        }

        .solution {
            background-color: rgba(40, 167, 69, 0.1);
            border-left-color: #28a745;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        h2 {
            margin-top: 30px;
        }

        .test-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .timing-info {
            background-color: rgba(255, 193, 7, 0.1);
            border-left-color: #ffc107;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }

        /* Override r√°pido para demonstrar o problema */
        .fast-override {
            transition: all 300ms ease-in-out !important; /* 300ms sobrescreve 1500ms */
        }

        @media (max-width: 768px) {
            .test-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="theme-light">
    <div class="controls">
        <button class="btn-light" onclick="setTheme('light')">‚òÄÔ∏è Light</button>
        <button class="btn-dark" onclick="setTheme('dark')">üåô Dark</button>
        <button onclick="runDiagnostic()">üîç Diagn√≥stico</button>
    </div>

    <h1>üîß Teste de Corre√ß√£o de Transi√ß√µes Lentas</h1>

    <div class="explanation">
        <strong>Objetivo:</strong> Verificar se as corre√ß√µes aplicadas ao projeto ED Acima das Nuvens 
        resolveram o problema de transi√ß√µes muito r√°pidas. As transi√ß√µes devem durar <strong>1.5 segundos</strong> 
        com easing <code>ease-in-out</code>.
    </div>

    <div class="timing-info">
        <strong>‚è±Ô∏è Configura√ß√£o de Timing:</strong><br>
        ‚Ä¢ <code>--theme-transition-duration: 1500ms</code> (1.5 segundos)<br>
        ‚Ä¢ <code>--theme-transition-timing: ease-in-out</code><br>
        ‚Ä¢ <code>--theme-transition-fast: 300ms</code> (s√≥ para elementos espec√≠ficos)<br>
        ‚Ä¢ <code>--theme-transition-medium: 600ms</code> (meio termo)
    </div>

    <h2>‚ùå Problema Original (M√∫ltiplas Declara√ß√µes)</h2>
    <div class="explanation problem">
        <strong>Problema:</strong> M√∫ltiplas declara√ß√µes <code>transition</code> onde a segunda sobrescreve a primeira.
    </div>
    <div class="test-container">
        <div class="problem-example">
            <h3>Exemplo Problem√°tico</h3>
            <p>Este elemento tem <code>transition</code> declarado duas vezes. 
               A segunda declara√ß√£o sobrescreve a primeira, causando transi√ß√µes r√°pidas ou quebradas.</p>
            <code>
                transition: background-color 1500ms;<br>
                transition: color 1500ms; /* ‚Üê Sobrescreve a anterior */
            </code>
        </div>
        <div class="problem-example fast-override">
            <h3>Override R√°pido</h3>
            <p>Este elemento tem uma classe <code>fast-override</code> que for√ßa 300ms, 
               sobrescrevendo a transi√ß√£o longa configurada.</p>
            <code>transition: all 300ms !important;</code>
        </div>
    </div>

    <h2>‚úÖ Solu√ß√£o Implementada</h2>
    <div class="explanation solution">
        <strong>Solu√ß√£o:</strong> Declara√ß√µes <code>transition</code> combinadas em uma √∫nica linha 
        e hierarquia correta de especificidade CSS.
    </div>
    <div class="test-container">
        <div class="fixed-example theme-interactive-transition">
            <h3>Transi√ß√£o Corrigida</h3>
            <p>Este elemento usa a solu√ß√£o corrigida com m√∫ltiplas propriedades 
               em uma √∫nica declara√ß√£o <code>transition</code>.</p>
            <code>
                transition: <br>
                &nbsp;&nbsp;background-color 1500ms ease-in-out,<br>
                &nbsp;&nbsp;color 1500ms ease-in-out,<br>
                &nbsp;&nbsp;border-color 1500ms ease-in-out;
            </code>
        </div>
        <div class="fixed-example theme-transition-medium">
            <h3>Transi√ß√£o M√©dia (600ms)</h3>
            <p>Este elemento usa a classe <code>theme-transition-medium</code> 
               para elementos que precisam de resposta mais r√°pida.</p>
            <code>transition: all 600ms ease-in-out;</code>
        </div>
    </div>

    <h2>üß™ Teste de Hierarquia CSS</h2>
    <div class="explanation">
        <strong>Teste:</strong> Elementos com diferentes classes de transi√ß√£o para verificar 
        se a especificidade est√° funcionando corretamente.
    </div>
    <div class="test-container">
        <div class="fixed-example theme-transition-fast">
            <h3>Fast (300ms)</h3>
            <p>Para elementos de UI que precisam de feedback r√°pido.</p>
        </div>
        <div class="fixed-example theme-transition-medium">
            <h3>Medium (600ms)</h3>
            <p>Para elementos secund√°rios do tema.</p>
        </div>
    </div>

    <h2>üìä Resultado Esperado</h2>
    <div class="explanation solution">
        <h3>‚úÖ Se as corre√ß√µes funcionaram:</h3>
        <ul>
            <li><strong>Transi√ß√µes longas:</strong> Elementos principais devem animar por 1.5 segundos</li>
            <li><strong>Suavidade:</strong> Anima√ß√£o deve usar <code>ease-in-out</code> para entrada/sa√≠da suave</li>
            <li><strong>Consist√™ncia:</strong> Todos os elementos devem come√ßar e terminar a transi√ß√£o ao mesmo tempo</li>
            <li><strong>Cores coordenadas:</strong> Background, texto e bordas devem mudar simultaneamente</li>
        </ul>

        <h3>‚ùå Se ainda h√° problemas:</h3>
        <ul>
            <li><strong>Transi√ß√µes r√°pidas:</strong> Mudan√ßa quase instant√¢nea (&lt; 500ms)</li>
            <li><strong>Elementos dessincronizados:</strong> Alguns elementos mudam r√°pido, outros devagar</li>
            <li><strong>Pulos visuais:</strong> Mudan√ßas abruptas sem anima√ß√£o</li>
        </ul>
    </div>

    <div id="diagnostic-results" style="display: none;" class="explanation">
        <h3>üîç Resultados do Diagn√≥stico:</h3>
        <div id="diagnostic-content"></div>
    </div>

    <script>
        function setTheme(theme) {
            const body = document.body;
            const timestamp = Date.now();
            
            console.log(`üé® Mudando tema para: ${theme} (${timestamp})`);
            
            // Remove classes existentes
            body.classList.remove('theme-light', 'theme-dark');
            
            // Aplica nova classe
            body.classList.add(`theme-${theme}`);
            
            console.log(`‚úÖ Classe aplicada: theme-${theme}`);
            
            // Monitora quando a transi√ß√£o termina
            const startTime = Date.now();
            body.addEventListener('transitionend', function onTransitionEnd(e) {
                if (e.target === body && e.propertyName === 'background-color') {
                    const duration = Date.now() - startTime;
                    console.log(`‚è±Ô∏è Transi√ß√£o completada em: ${duration}ms`);
                    console.log(`üéØ Esperado: 1500ms | Atual: ${duration}ms`);
                    
                    if (duration >= 1400 && duration <= 1600) {
                        console.log('‚úÖ Transi√ß√£o funcionando corretamente!');
                    } else if (duration < 500) {
                        console.log('‚ùå Transi√ß√£o muito r√°pida - problema n√£o resolvido');
                    } else {
                        console.log('‚ö†Ô∏è Transi√ß√£o com dura√ß√£o inesperada');
                    }
                    
                    body.removeEventListener('transitionend', onTransitionEnd);
                }
            });
        }

        function runDiagnostic() {
            const diagnosticDiv = document.getElementById('diagnostic-results');
            const contentDiv = document.getElementById('diagnostic-content');
            
            const root = document.documentElement;
            const computed = getComputedStyle(root);
            
            const duration = computed.getPropertyValue('--theme-transition-duration');
            const timing = computed.getPropertyValue('--theme-transition-timing');
            const fast = computed.getPropertyValue('--theme-transition-fast');
            const medium = computed.getPropertyValue('--theme-transition-medium');
            
            const bodyTransition = getComputedStyle(document.body).transition;
            
            contentDiv.innerHTML = `
                <strong>Vari√°veis CSS:</strong><br>
                ‚Ä¢ Duration: <code>${duration.trim()}</code><br>
                ‚Ä¢ Timing: <code>${timing.trim()}</code><br>
                ‚Ä¢ Fast: <code>${fast.trim()}</code><br>
                ‚Ä¢ Medium: <code>${medium.trim()}</code><br><br>
                
                <strong>Transi√ß√£o do Body:</strong><br>
                <code style="word-break: break-all;">${bodyTransition}</code><br><br>
                
                <strong>Status:</strong><br>
                ${duration.trim() === '1500ms' ? '‚úÖ' : '‚ùå'} Duration configurado corretamente<br>
                ${timing.trim() === 'ease-in-out' ? '‚úÖ' : '‚ùå'} Timing configurado corretamente<br>
                ${bodyTransition.includes('1500ms') ? '‚úÖ' : '‚ùå'} Body usando transi√ß√£o longa<br>
            `;
            
            diagnosticDiv.style.display = 'block';
            diagnosticDiv.scrollIntoView({ behavior: 'smooth' });
        }

        // Log inicial
        console.log('üß™ Teste de Corre√ß√£o de Transi√ß√µes Carregado');
        console.log('üéØ Objetivo: Verificar transi√ß√µes de 1.5 segundos');
        console.log('üìù Clique em Light/Dark e observe o console para an√°lise detalhada');
        
        // Executa diagn√≥stico inicial
        setTimeout(runDiagnostic, 1000);
    </script>
</body>
</html>
