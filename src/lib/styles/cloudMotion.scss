@use '../../theme/palette' as palette;
@use 'sass:map';

// ===========================================
// CLOUD MOTION SYSTEM - VERSÃO SIMPLIFICADA
// ===========================================

// Configurações base
$cloud-sizes: (
	mobile: (
		width: clamp(40px, 10vw, 80px),
		height: clamp(30px, 8vw, 60px)
	),
	tablet: (
		width: clamp(50px, 9vw, 100px),
		height: clamp(35px, 7vw, 70px)
	),
	desktop: (
		width: clamp(60px, 8vw, 120px),
		height: clamp(40px, 6vw, 90px)
	)
);

$breakpoints: (
	mobile: 576px,
	tablet: 768px,
	desktop: 1200px
);

// ===========================================
// MIXINS SIMPLIFICADOS
// ===========================================

// Responsive breakpoints
@mixin respond-to($breakpoint) {
	$bp-value: map.get($breakpoints, $breakpoint);
	@if $bp-value {
		@if $breakpoint == 'mobile' {
			@media (max-width: #{$bp-value - 1px}) {
				@content;
			}
		} @else {
			@media (min-width: #{$bp-value}) {
				@content;
			}
		}
	}
}

// Container de nuvens
@mixin cloud-container() {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	overflow: hidden;
	z-index: -1;
}

// Elemento nuvem
@mixin cloud-element() {
	position: absolute;
	pointer-events: none;
	object-fit: contain;
	transform-origin: center center;
	will-change: transform, opacity;
	opacity: 0.6;

	// Tamanhos responsivos
	@include respond-to('mobile') {
		width: map.get(map.get($cloud-sizes, 'mobile'), 'width');
		height: map.get(map.get($cloud-sizes, 'mobile'), 'height');
	}

	@include respond-to('tablet') {
		width: map.get(map.get($cloud-sizes, 'tablet'), 'width');
		height: map.get(map.get($cloud-sizes, 'tablet'), 'height');
	}

	@include respond-to('desktop') {
		width: map.get(map.get($cloud-sizes, 'desktop'), 'width');
		height: map.get(map.get($cloud-sizes, 'desktop'), 'height');
	}
}

// ===========================================
// CLASSES CSS
// ===========================================

.cloud-container {
	@include cloud-container();
}

.cloud-element {
	@include cloud-element();
}

// ===========================================
// ACCESSIBILITY
// ===========================================

@media (prefers-reduced-motion: reduce) {
	.cloud-element {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		opacity: 0.3;
		transform: none !important;
	}
}
