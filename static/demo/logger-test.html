<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste do Sistema de Logs - ED | Acima das Nuvens</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            line-height: 1.6;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        .primary { background: #007bff; color: white; }
        .secondary { background: #6c757d; color: white; }
        .success { background: #28a745; color: white; }
        .info { background: #17a2b8; color: white; }
        .warning { background: #ffc107; color: #212529; }
        button:hover { transform: translateY(-1px); filter: brightness(1.1); }
        .status {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            background: #e9ecef;
            border-left: 4px solid #007bff;
        }
        .code {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
        }
        .log-examples {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 2rem;
        }
        @media (max-width: 768px) {
            .log-examples { grid-template-columns: 1fr; }
            .controls { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Sistema de Logs - ED | Acima das Nuvens</h1>
        <p>Este Ã© um exemplo prÃ¡tico do sistema de logs simplificado. Use os controles abaixo para testar diferentes tipos de logs.</p>
        
        <div class="status" id="status">
            <strong>Status:</strong> Modo PadrÃ£o (use F12 para ver o console)
        </div>

        <div class="controls">
            <button class="primary" onclick="toggleVerbose()">ğŸ”§ Alternar Modo Verbose</button>
            <button class="secondary" onclick="testThemeLogs()">ğŸ¨ Teste Logs de Tema</button>
            <button class="success" onclick="testComponentLogs()">ğŸ§© Teste Logs de Componentes</button>
            <button class="info" onclick="testAnimationLogs()">ğŸ­ Teste Logs de AnimaÃ§Ã£o</button>
            <button class="warning" onclick="testTransitionLogs()">âš¡ Teste Logs de TransiÃ§Ã£o</button>
        </div>

        <div class="controls">
            <button class="secondary" onclick="showStats()">ğŸ“Š Ver EstatÃ­sticas</button>
            <button class="info" onclick="showCapabilities()">ğŸ“š Ver Capacidades</button>
            <button class="primary" onclick="clearConsole()">ğŸ§¹ Limpar Console</button>
        </div>

        <h3>ğŸ“ DiferenÃ§as dos Modos</h3>
        
        <div class="log-examples">
            <div>
                <h4>ğŸ§‘â€ğŸ’» Modo PadrÃ£o (Humanos)</h4>
                <div class="code">ğŸš€ [ED] ğŸ§© ThemeToggle: Tema atualizado - light â†’ dark
ğŸš€ [ED] ğŸ¬ TransiÃ§Ã£o iniciada light â†’ dark
ğŸš€ [ED] âš¡ TransiÃ§Ã£o finalizada em 280ms
ğŸš€ [ED] ğŸš€ Welcome: Componente montado - Welcome</div>
            </div>
            
            <div>
                <h4>ğŸ”§ Modo Verbose (MÃ¡quinas/IA)</h4>
                <div class="code">ğŸš€ [ED] ğŸ§© THEMETOGGLE: AtualizaÃ§Ã£o do tema principal
ğŸ•’ HorÃ¡rio: 14:23:45.123
ğŸ“‹ De: light
ğŸ“‹ Para: dark

ğŸš€ [ED] ğŸ¬ TransiÃ§Ã£o iniciada: tema
ğŸ•’ Iniciado em: 14:23:45.124
ğŸ†” ID: default
ğŸ”„ MudanÃ§a: light â†’ dark
â±ï¸ DuraÃ§Ã£o esperada: 300ms</div>
            </div>
        </div>

        <h3>ğŸ¯ CaracterÃ­sticas</h3>
        <ul>
            <li>âœ… <strong>Modo PadrÃ£o:</strong> ReduÃ§Ã£o de 70% no volume de logs</li>
            <li>âœ… <strong>Modo Verbose:</strong> Dados completos para anÃ¡lise tÃ©cnica</li>
            <li>âœ… <strong>PersistÃªncia:</strong> PreferÃªncias salvas no localStorage</li>
            <li>âœ… <strong>URL Support:</strong> <code>?verbose=true</code> ativa modo verbose</li>
            <li>âœ… <strong>Performance:</strong> Alertas automÃ¡ticos para transiÃ§Ãµes lentas</li>
            <li>âœ… <strong>PortuguÃªs:</strong> Mensagens humanizadas em pt-BR</li>
        </ul>

        <h3>ğŸ› ï¸ Controles ProgramÃ¡ticos</h3>
        <div class="code">// Ativar modo verbose
logger.setVerbose(true);

// Verificar modo atual
logger.isVerbose(); // true/false

// Ver estatÃ­sticas de performance
logger.getTransitionStats();

// Configurar limites de performance
logger.setThresholds(250, 400);</div>
    </div>

    <script type="module">
        // SimulaÃ§Ã£o do sistema de logs para demonstraÃ§Ã£o
        class DemoLogger {
            constructor() {
                this.verboseMode = false;
                this.prefix = 'ğŸš€ [ED]';
                
                // Verificar localStorage e URL
                this.initVerboseMode();
            }

            initVerboseMode() {
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.get('verbose') === 'true') {
                    this.verboseMode = true;
                    localStorage.setItem('ed-logger-verbose', 'true');
                    return;
                }
                
                const stored = localStorage.getItem('ed-logger-verbose');
                this.verboseMode = stored === 'true';
            }

            setVerbose(enabled = true) {
                this.verboseMode = enabled;
                localStorage.setItem('ed-logger-verbose', enabled.toString());
                this.updateStatus();
                console.log(`${this.prefix} Modo verbose ${enabled ? 'ativado' : 'desativado'} ğŸ”§`);
            }

            isVerbose() {
                return this.verboseMode;
            }

            updateStatus() {
                const status = document.getElementById('status');
                const mode = this.verboseMode ? 'Verbose (MÃ¡quinas/IA)' : 'PadrÃ£o (Humanos)';
                status.innerHTML = `<strong>Status:</strong> Modo ${mode} (use F12 para ver o console)`;
            }

            theme(action, data = {}) {
                const messages = {
                    'APPLY_THEME': 'ğŸ¨ Aplicando tema',
                    'THEME_APPLIED': 'âœ… Tema aplicado',
                    'TRANSITION_START': 'ğŸ¬ TransiÃ§Ã£o iniciada',
                    'TRANSITION_END': 'ğŸ­ TransiÃ§Ã£o finalizada'
                };

                const message = messages[action] || `ğŸ¨ ${action}`;

                if (this.verboseMode) {
                    console.group(`${this.prefix} ${message}`);
                    console.log('ğŸ•’ HorÃ¡rio:', new Date().toLocaleTimeString('pt-BR', {
                        hour: '2-digit', minute: '2-digit', second: '2-digit', fractionalSecondDigits: 3
                    }));
                    Object.entries(data).forEach(([key, value]) => {
                        console.log(`ğŸ“‹ ${key}:`, value);
                    });
                    console.groupEnd();
                } else {
                    const summary = Object.values(data).filter(v => v).join(' â†’ ');
                    console.log(`${this.prefix} ${message}${summary ? ` - ${summary}` : ''}`);
                }
            }

            component(name, action, data = {}) {
                const messages = {
                    'MOUNT': 'ğŸš€ Componente montado',
                    'UNMOUNT': 'ğŸ‘‹ Componente desmontado',
                    'UPDATE': 'ğŸ”„ Componente atualizado',
                    'INTERACTION': 'ğŸ‘† InteraÃ§Ã£o registrada'
                };

                const message = messages[action] || action;

                if (this.verboseMode) {
                    console.group(`${this.prefix} ğŸ§© ${name.toUpperCase()}: ${message}`);
                    console.log('ğŸ•’ HorÃ¡rio:', new Date().toLocaleTimeString('pt-BR', {
                        hour: '2-digit', minute: '2-digit', second: '2-digit', fractionalSecondDigits: 3
                    }));
                    Object.entries(data).forEach(([key, value]) => {
                        console.log(`ğŸ“‹ ${key}:`, value);
                    });
                    console.groupEnd();
                } else {
                    const summary = Object.values(data).filter(v => v).join(' - ');
                    console.log(`${this.prefix} ğŸ§© ${name}: ${message}${summary ? ` - ${summary}` : ''}`);
                }
            }

            animation(action, data = {}) {
                const messages = {
                    'START': 'ğŸ¬ AnimaÃ§Ã£o iniciada',
                    'COMPLETE': 'âœ… AnimaÃ§Ã£o concluÃ­da',
                    'ERROR': 'âŒ Erro na animaÃ§Ã£o',
                    'PROGRESS': 'â³ Progresso'
                };

                const message = messages[action] || `ğŸ­ ${action}`;
                const importantActions = ['START', 'COMPLETE', 'ERROR'];

                if (this.verboseMode) {
                    console.group(`${this.prefix} ${message}`);
                    console.log('ğŸ•’ HorÃ¡rio:', new Date().toLocaleTimeString('pt-BR', {
                        hour: '2-digit', minute: '2-digit', second: '2-digit', fractionalSecondDigits: 3
                    }));
                    Object.entries(data).forEach(([key, value]) => {
                        console.log(`ğŸ“‹ ${key}:`, value);
                    });
                    console.groupEnd();
                } else if (importantActions.includes(action)) {
                    const summary = Object.values(data).filter(v => v).join(' - ');
                    console.log(`${this.prefix} ${message}${summary ? ` - ${summary}` : ''}`);
                }
            }

            transition(action, data = {}) {
                if (action === 'START') {
                    if (this.verboseMode) {
                        console.group(`${this.prefix} ğŸ¬ TransiÃ§Ã£o iniciada: ${data.type || 'tema'}`);
                        console.log('ğŸ•’ HorÃ¡rio:', new Date().toLocaleTimeString('pt-BR', {
                            hour: '2-digit', minute: '2-digit', second: '2-digit', fractionalSecondDigits: 3
                        }));
                        console.log('ğŸ†” ID:', data.id || 'default');
                        if (data.from && data.to) console.log(`ğŸ”„ MudanÃ§a: ${data.from} â†’ ${data.to}`);
                        if (data.duration) console.log(`â±ï¸ DuraÃ§Ã£o esperada: ${data.duration}ms`);
                        console.groupEnd();
                    } else {
                        const change = data.from && data.to ? ` ${data.from} â†’ ${data.to}` : '';
                        console.log(`${this.prefix} ğŸ¬ TransiÃ§Ã£o iniciada${change}`);
                    }
                } else if (action === 'END') {
                    const duration = data.duration || Math.floor(Math.random() * 500) + 200;
                    const isSlowly = duration > 300;
                    const icon = isSlowly ? 'ğŸŒ' : 'âš¡';
                    console.log(`${this.prefix} ${icon} TransiÃ§Ã£o finalizada em ${duration}ms${isSlowly ? ' (lenta!)' : ''}`);
                }
            }

            showCapabilities() {
                console.group(`${this.prefix} ğŸ“š Logger ED | Acima das Nuvens`);
                console.log(`ğŸ”§ Modo atual: ${this.verboseMode ? 'VERBOSE' : 'PADRÃƒO'}`);
                console.log('');
                if (this.verboseMode) {
                    console.log('ğŸ“Š MODO VERBOSE - Logs detalhados para debugging');
                    console.log('â€¢ Timestamps precisos com milissegundos');
                    console.log('â€¢ Grupos expandidos com dados completos');
                    console.log('â€¢ Todos os eventos rastreados');
                } else {
                    console.log('ğŸ‘¨â€ğŸ’» MODO PADRÃƒO - Logs essenciais para humanos');
                    console.log('â€¢ Mensagens simples e diretas');
                    console.log('â€¢ Apenas eventos importantes');
                    console.log('â€¢ Resumos automÃ¡ticos de dados');
                }
                console.groupEnd();
            }

            getTransitionStats() {
                return {
                    transiÃ§Ãµes_ativas: 0,
                    modo_verbose: this.verboseMode,
                    preferÃªncia_salva: localStorage.getItem('ed-logger-verbose') || 'false'
                };
            }

            clear() {
                console.clear();
                console.log(`${this.prefix} Console limpo`);
            }
        }

        // Instanciar o logger demo
        window.logger = new DemoLogger();
        
        // FunÃ§Ãµes globais para os botÃµes
        window.toggleVerbose = () => {
            logger.setVerbose(!logger.isVerbose());
        };

        window.testThemeLogs = () => {
            logger.theme('APPLY_THEME', { from: 'light', to: 'dark' });
            setTimeout(() => {
                logger.theme('THEME_APPLIED', { tema: 'dark', sucesso: true });
            }, 100);
        };

        window.testComponentLogs = () => {
            logger.component('ThemeToggle', 'MOUNT', { tema: 'dark' });
            setTimeout(() => {
                logger.component('Welcome', 'UPDATE', { animaÃ§Ãµes: 'ativas' });
            }, 100);
        };

        window.testAnimationLogs = () => {
            logger.animation('START', { tipo: 'nuvens', duraÃ§Ã£o: '300ms' });
            setTimeout(() => {
                logger.animation('PROGRESS', { progresso: '50%' });
            }, 150);
            setTimeout(() => {
                logger.animation('COMPLETE', { resultado: 'sucesso' });
            }, 300);
        };

        window.testTransitionLogs = () => {
            logger.transition('START', { id: 'demo', from: 'light', to: 'dark', duration: 300 });
            setTimeout(() => {
                logger.transition('END', { id: 'demo', duration: Math.floor(Math.random() * 600) + 200 });
            }, 350);
        };

        window.showStats = () => {
            console.table(logger.getTransitionStats());
        };

        window.showCapabilities = () => {
            logger.showCapabilities();
        };

        window.clearConsole = () => {
            logger.clear();
        };

        // Inicializar status
        logger.updateStatus();
        
        // Mostrar capacidades na primeira carga
        logger.showCapabilities();
    </script>
</body>
</html>
