<!DOCTYPE html>
<html lang="pt-BR">

<head>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Estrutura de Dados | Acima das Nuvens</title>

  <!-- Alpine.js (alpinejs@3.14.9) - removido defer -->
  <script src="./public/alpine.js"></script>

  <!-- Bulma 1.0.4 -->
  <link rel="stylesheet" href="./public/styles/css/bulma.min.css">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="./public/styles/output/index.css">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="./public/favicon/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="./public/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./public/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./public/favicon/favicon-16x16.png">

  <!-- Manifest -->
  <link rel="manifest" href="./public/favicon/site.webmanifest">

  <!-- Ionicons (7.1.0) -->
  <script type="module" src="./public/ionicons/ionicons.esm.js"></script>
  <script nomodule src="./public/ionicons/ionicons.js"></script>

  <!-- Brython-3.13.1 -->
  <script src="./public/Brython-3.13.1/brython.js" crossorigin="use-credentials"></script>
  <script src="./public/Brython-3.13.1/brython_stdlib.js" crossorigin="use-credentials"></script>

</head>

<body onload="brython()">
  <div id="theme-container" x-data="{ show: false, isRotated: false, isFocused: false }"
    @focusout="if (!$event.relatedTarget || !$el.contains($event.relatedTarget)) { show = false; isFocused = false; isRotated = false }">

    <button id="theme-toggle" class="button is-loading" @mouseenter="isRotated = true" @mouseleave="isRotated = false"
      @focusin="isFocused = true; setTimeout(() => {isRotated = true;}, 200)"
      @focusout="if (!$event.relatedTarget || !$el.parentElement.contains($event.relatedTarget)) { isFocused = false; isRotated = false }"
      @click="show = !show; isRotated = isFocused ? !isRotated : isRotated">
      <ion-icon id="theme-icon" name="sunny" class="icon"
        :style="{ transform: `${isRotated ? 'rotate(180deg)' : 'rotate(0deg)'}` }"></ion-icon>
    </button>

    <div id="theme-popup" class="notification" x-show="show" @click.outside="show = false">
      <div class="buttons">
        <button id="theme-light" class="button is-fullwidth">
          <ion-icon name="sunny"></ion-icon>
          <span>Claro</span>
        </button>
        <button id="theme-dark" class="button is-fullwidth">
          <ion-icon name="moon"></ion-icon>
          <span>Escuro</span>
        </button>
        <button id="theme-system" class="button is-fullwidth">
          <ion-icon name="contrast"></ion-icon>
          <span>Sistema</span>
        </button>
      </div>
    </div>
  </div>

  <script type="text/python" src="./main.py" defer></script>
</body>

</html>